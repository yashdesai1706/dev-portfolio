!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d6d1e6b8-4f67-457d-bec0-bc87dea79f21",e._sentryDebugIdIdentifier="sentry-dbid-d6d1e6b8-4f67-457d-bec0-bc87dea79f21")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3930,4390],{67677:function(e,t,n){n.d(t,{D:function(){return D}});var r=n(97458),a=n(23113),o=n(2200),i=n(19974),s=n(48681),l=n(52983),d=n(47152),c=n(86101),u=n(34854),h=n(770),m=n(9249),f=n(80712),p=n(10893),v=n(9217),x=n(26013),w=n(11031);let g=(0,l.forwardRef)((e,t)=>{let{isCollapsed:n,onClick:o,mode:i,tooltipProps:s={side:"top"},buttonClassName:l,labelClassName:d,showLabel:g=!0,oldStyle:b=!1}=e,{t:j}=(0,p.$G)("detailCommon"),y=(0,a.a)("lg"),N=(0,u.nD)(),C=j("saveToCollection"),_=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.T,{children:C}),(0,r.jsx)(h.J,{as:f.Z,size:"base"})]}),D=b?w.Mw:x.aD,I=(0,r.jsxs)("button",{className:n?x.tw:D,onClick:o,"data-cy":"add-to-collection-thumbnail",ref:t,children:[_,n&&(0,r.jsx)("span",{children:C})]});return("large"===i&&(I=(0,r.jsxs)("button",{className:null!=l?l:v.LI(),onClick:o,ref:t,children:[_,g&&(0,r.jsx)("span",{className:null!=d?d:v.PS(),children:C})]})),!y||n)?I:(0,r.jsx)(c.u,{...s,trigger:I,triggerAsChild:!0,hideOnLeaveHover:!0,container:N.current,children:C})});var b=n(78238),j=n(79187),y=n(88659);let N=(0,l.forwardRef)((e,t)=>{let{mode:n,tooltipProps:a,buttonClassName:o,showLabel:i,labelClassName:s,type:l,renderTrigger:c}=e,{onButtonOpenClick:u}=(0,y.r)(),h=(0,d.U)().isCollapsed;return c?c({onClick:u,ref:t}):(0,r.jsx)(g,{isCollapsed:h,onClick:u,mode:null!=n?n:"normal",tooltipProps:a,buttonClassName:o,showLabel:i,labelClassName:s,oldStyle:"icon"===l,ref:t})}),C=e=>{let{id:t,type:n,trigger:a}=e,{isOpen:o,handleOpenChange:i}=(0,y.r)();return(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsx)(s.u,{open:o,onOpenChange:i,fullHeight:!0,size:"full",paddingY:"none",paddingX:"none",thumbnail:!0,children:(0,r.jsx)(b.L,{type:n,id:t})})]})},_=e=>{var t;let{id:n,type:a,trigger:s,isMenuAction:l,containerRef:d}=e,c=(0,o.n)(),{isOpen:u,handleOpenChange:h}=(0,y.r)();return(0,r.jsxs)(i.fC,{open:u,onOpenChange:h,children:[(0,r.jsx)(i.xz,{asChild:!0,children:s}),(0,r.jsx)(i.h_,{container:null!==(t=null==d?void 0:d.current)&&void 0!==t?t:null==c?void 0:c.current,children:(0,r.jsx)(i.VY,{align:"start",side:"left",sideOffset:6,onInteractOutside:e=>l&&e.preventDefault(),className:"z-[1]",children:(0,r.jsx)(b.L,{type:a,id:n})})})]})},D=e=>{let{type:t,id:n,location:o,mode:i,tooltipProps:s,buttonClassName:l,showLabel:d,labelClassName:c,renderTrigger:u,withProvider:h=!0,isMenuAction:m,containerRef:f}=e,p=(0,a.a)("smMax"),v=(0,r.jsx)(N,{mode:i,tooltipProps:s,buttonClassName:l,showLabel:d,labelClassName:c,type:t,renderTrigger:u}),x=p?C:_;return h?(0,r.jsx)(j.u,{id:n,type:t,location:o,children:(0,r.jsx)(x,{id:n,type:t,trigger:v,isMenuAction:m,containerRef:f})}):(0,r.jsx)(x,{id:n,type:t,trigger:v,isMenuAction:m,containerRef:f})}},38741:function(e,t,n){n.r(t),n.d(t,{AddToCollection:function(){return r.D}});var r=n(67677)},64390:function(e,t,n){n.r(t),n.d(t,{DownloadVideoButton:function(){return _}});var r=n(97458),a=n(86101),o=n(770),i=n(9249),s=n(19213),l=n(63918),d=n(57291),c=n(10893),u=n(59445),h=n(65122),m=n(85229),f=n(46700),p=n(52983),v=n(50987),x=n(65724),w=n(52240),g=n(33247),b=n(47874),j=n(35576),y=n(14534),N=n(68344);let C=e=>{let{resourceId:t,premium:n,quality:r,authorName:a,orientation:o,poster:i,name:s,trackActivated:l}=e,d=(0,h.e)(),[c,C]=(0,p.useState)(!1),_=(0,f.V)(),{isUserWinback:D,showWinbackModal:I}=(0,m.l)(),R=(0,N.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:i,resourceName:s}),T=(0,j.mS)(),k=(0,w.TH)({action:"download",location:"thumbnail",file_id:t,license:n?"premium":"free",resolution:r,author_name:a,category:"video",aspect_ratio:o}),O=(0,u.Lh)(),L=(0,x.W)(t,"video","resource_thumbnail"),{showAttribution:A}=(0,v.J)(),M=(0,g.R)()({authorName:a,isAIGenerated:!1,type:"video",isPremium:n,eventName:"download__thumbnail"}),P=(0,p.useCallback)(()=>{T({resourceId:t,isResourcePremium:n,resourceType:"video",downloadType:"download"})},[T,t,n]);return{download:(0,p.useCallback)(async()=>{if(n&&!d){L({origin:"resource_thumbnail",resourceData:{name:s,resourceType:"video",mediaUrl:i},checkoutQueryParams:M,onButtonClick:P});return}if(D){I();return}C(!0);let e=await (0,y.S)({videoId:t,orientation:o,walletId:O});if(e.success){_(e.data.url,e.data.filename);let r=(0,b.z)(e.data.filename);l&&(T({resourceId:t,isResourcePremium:n||!1,resourceType:"video"}),k({fileExtension:r})),A()}else R(e,M);C(!1)},[n,d,D,t,o,O,L,s,i,M,P,I,_,l,A,T,k,R]),isDownloading:c,userPremium:d}},_=e=>{let{resourceId:t,quality:n,premium:d,authorName:u,orientation:h,trackActivated:m=!0,name:f,poster:p}=e,{t:v}=(0,c.$G)("detailCommon"),{download:x,isDownloading:w}=C({resourceId:t,quality:n,premium:d,authorName:u,orientation:h,trackActivated:m,name:f,poster:p});return(0,r.jsx)(a.u,{trigger:(0,r.jsxs)("a",{className:D({isDownloading:w}),onClick:()=>{w||x()},role:"link","data-cy":"download-thumbnail",children:[(0,r.jsx)(i.T,{children:v("download")}),w?(0,r.jsx)(o.J,{as:l.Z,size:"sm",className:"animate-spin"}):(0,r.jsx)(o.J,{as:s.Z,size:"base"})]}),side:"left",children:(0,r.jsx)("span",{className:"$capitalize",children:v("download")})})},D=(0,d.j)("flex size-10 cursor-pointer items-center justify-center rounded-full bg-surface-0 text-surface-foreground-0 shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] hover:bg-surface-3",{variants:{isDownloading:{true:"pointer-events-none cursor-not-allowed"}},defaultVariants:{isDownloading:!1}})},97797:function(e,t,n){n.d(t,{Y:function(){return f}});var r=n(97458),a=n(57291),o=n(52294),i=n(65122),s=n(9249),l=n(41776),d=n(4784),c=n(59470),u=n(63081),h=n(33247);let m=e=>{let{id:t,name:n,poster:a,authorName:o}=e,m=(0,i.e)(),f=(0,h.R)()({type:"video",authorName:o,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});return f.append("origin","".concat(u.Ej,"_premium_video")),(0,r.jsxs)("span",{className:c.q,"data-cy":"premium-resource-crown",children:[(0,r.jsx)(s.T,{children:"Premium"}),m?(0,r.jsx)(d.s,{}):(0,r.jsx)(l.w,{resource:{id:t,name:n,mediaUrl:a,resourceType:"video"},urlParams:new URLSearchParams(f),category:"video"})]})},f=e=>{let{id:t,name:n,poster:i,authorName:s,isPremium:l,isAIGenerated:d,orientation:c}=e;return(0,r.jsxs)("div",{className:(0,a.cx)("absolute flex","vertical"!==c?"left-4 top-4 gap-2":"left-3 top-3 gap-1"),children:[l&&(0,r.jsx)(m,{id:t,name:n,poster:i,authorName:s}),d&&(0,r.jsx)(o.N,{})]})}},93295:function(e,t,n){n.d(t,{Q:function(){return l}});var r=n(97458),a=n(57291),o=n(38741),i=n(50987),s=n(64390);let l=e=>{let{id:t,poster:n,location:l,author:d,premium:c,quality:u,orientation:h,name:m}=e,{attributionEnabled:f}=(0,i.J)();return f?null:(0,r.jsxs)("aside",{className:(0,a.cx)("absolute  flex flex-col gap-3 transition-all","vertical"!==h?"right-4 top-4 gap-3":"right-3 top-3 gap-2"),children:[(0,r.jsx)(s.DownloadVideoButton,{resourceId:t,authorName:d.name,premium:c,quality:u,orientation:h,name:m,poster:n}),"thumbnail"===l&&(0,r.jsx)(o.AddToCollection,{type:"video",id:t,location:l,tooltipProps:{side:"left"}})]})}},3797:function(e,t,n){n.d(t,{A:function(){return l}});var r=n(97458),a=n(58058),o=n.n(a),i=n(51780),s=n(50987);let l=e=>{let{children:t,as:n,onHandleClick:a,name:l}=e,{attributionEnabled:d}=(0,s.J)(),c=(0,i.useRouter)(),u="$block $h-full $w-full";return d?(0,r.jsx)("div",{className:u,children:t}):(0,r.jsx)(o(),{href:{pathname:c.pathname,query:c.query},as:n,className:u,shallow:!0,scroll:!1,onClick:a,"aria-label":l,prefetch:!1,children:t})}},29708:function(e,t,n){n.d(t,{n:function(){return c}});var r=n(97458),a=n(53344),o=n.n(a),i=n(50987),s=n(28851),l=n(65229);let d=o()(()=>n.e(6303).then(n.bind(n,86303)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[86303]},ssr:!1}),c=e=>{let{author:t,id:n,name:a,position:o,premium:c,videoSrc:u,duration:h,enableGaTracker:m,isInViewport:f,posterSrc:p,videoUrl:v,isHovered:x,orientation:w}=e,{attributionEnabled:g}=(0,i.J)();if(g){var b,j;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{width:480,height:270,className:l.R,preload:"metadata",autoPlay:!1,poster:p,muted:!0,playsInline:!0,loop:!0,children:f&&(0,r.jsx)("source",{"data-src":u,type:"video/mp4"})}),(0,r.jsx)(d,{authorId:null!==(b=null==t?void 0:t.id)&&void 0!==b?b:0,authorName:null!==(j=null==t?void 0:t.name)&&void 0!==j?j:"",resourceUrl:v,resourceId:n,resourceName:a,mediaUrl:p,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:c,resourceType:"video"})]})}return(0,r.jsx)(s.VideoContentComponent,{poster:p,videoSrc:u,duration:h,name:a,author:t,isInViewport:f,id:n,premium:c,position:o,enableGaTracker:m,checkHover:!0,isHovered:x,orientation:w})}},37908:function(e,t,n){n.d(t,{v:function(){return d}});var r=n(97458),a=n(57291),o=n(63123),i=n(70870),s=n(18666),l=n(38012);let d=e=>{let{id:t,name:n,poster:d,orientation:c,containerRef:u}=e,{width:h}=(0,i.n)(u),m=!!(h&&h>=o.CC);return(0,r.jsx)(s.B,{buttonClassName:(0,a.cx)("flex gap-1 items-center text-sm font-semibold absolute bottom-4 left-4 transition-opacity",l.p,m?"px-4 py-0":"p-3","vertical"!==c?"left-4 bottom-4":"left-3 bottom-3"),id:t,name:null!=n?n:"",preview:{width:0,height:0,url:null!=d?d:""},type:"video",inThumbnail:!0,showLabel:m})}},47874:function(e,t,n){n.d(t,{z:function(){return r}});let r=e=>e.includes(".")?e.toLowerCase().split(".").pop():""},14534:function(e,t,n){n.d(t,{S:function(){return r}});let r=async e=>{let{videoId:t,orientation:n,walletId:r,optionId:a,action:o}=e,i=new URLSearchParams;n&&i.set("orientation",n),r&&i.set("walletId",r),a&&i.set("optionId",a.toString()),o&&i.set("action",o);let s=await fetch("/api/video/".concat(t,"/download?").concat(i.toString()));return s.ok?{success:!0,data:await s.json()}:429===s.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===s.status?{success:!1,data:"FORBIDDEN"}:401===s.status||405===s.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===s.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},68344:function(e,t,n){n.d(t,{G:function(){return l}});var r=n(19170),a=n(51780),o=n(10893),i=n(52983),s=n(65724);let l=e=>{let{resourceId:t,location:n,origin:l,limitModalMediaUrl:d,resourceName:c}=e,{openToast:u}=(0,r.x_)(),{t:h}=(0,o.$G)("error"),{push:m}=(0,a.useRouter)(),f=(0,s.W)(t,l,n);return(0,i.useCallback)((e,t)=>{let n={DOWNLOAD_LIMIT_REACHED:()=>{f({origin:l,resourceData:{name:c,resourceType:"video",mediaUrl:d},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{m("/oauth-logout")},NOT_FOUND:()=>{u({message:h("notFound")})},UNKNOWN_ERROR:()=>{u({message:h("unknown")})}};if("string"==typeof e.data&&e.data in n)return n[e.data]()},[f,l,c,d,m,u,h])}},5479:function(e,t,n){n.d(t,{l:function(){return l}});var r=n(97813),a=n(91657),o=n(51780),i=n(52983),s=n(46615);let l=e=>{let{id:t,url:n,related:l,nativeAspectRatio:d,track:c,uuid:u,fromElement:h}=e,{query:{aspect_ratio:m}}=(0,o.useRouter)(),f=(0,i.useCallback)(e=>{if(null==e?void 0:e.toString()){let t=(0,r.X)(e),o=t===a._y?"":t;return"".concat(n,"/").concat(o)}return n},[n]),p=(0,i.useMemo)(()=>l?f():m&&m!==d?f(m):f(),[l,m,f,d]);return(0,s.f)(t,p,{...h&&{fromElement:h},track:c,...u&&{uuid:u}})}},91050:function(e,t,n){n.d(t,{Ch:function(){return w},bd:function(){return m},Ft:function(){return p}});var r=n(87420),a=n(7616),o=n(52983),i=n(45591),s=n(44932),l=n(12297),d=n(24399),c=n(73139);let u=(0,c.xu)(e=>{let{locale:t,id:n}=e;return(0,c.n7)((0,d.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/video?id=".concat(n,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(n));return await e.json()}))},l.vZ),h=()=>{let e=(0,r.ZK)(),t=(0,a.Dv)(s.D),n=(0,a.Dv)(u({locale:e,id:t}));return"hasData"===n.state?n.data:null},m=()=>{let e=(0,i.yd)(),t=h();return(0,o.useMemo)(()=>[null===t,null!=t?t:{...e,relatedVideos:[],relatedPhotos:[],relatedVectors:[],relatedPsds:[]}],[e,t])},f=(0,o.createContext)([]),p=()=>(0,o.useContext)(f);var v=n(97458),x=n(61462);let w=e=>{let{videos:t,children:n,...r}=e;return(0,v.jsx)(f.Provider,{value:t,children:(0,v.jsx)(x.b,{...r,items:t,children:n})})}},80712:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M257.8 409.8H70c-8.3 0-15-6.7-15-15v-177h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25v-115c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h187.8c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 77.8h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55v-75c0-8.3 6.7-15 15-15"}),(0,r.jsx)("path",{d:"M490.2 325.3c-21.2-20.8-55.4-21.3-77.2-1.2-3.5 3.2-6.5 6.8-9 10.6-2.5-3.8-5.5-7.4-9-10.6-21.8-20.1-56-19.6-77.2 1.2-22.3 21.9-22.5 57.7-.4 79.7l74 74c7 7 18.3 7 25.2 0l74-74c22-22 21.9-57.8-.4-79.7"})]})},87908:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M448.9 24.4H189c-34.8 0-63.1 28.3-63.1 63.1v201.8c0 34.8 28.3 63.1 63.1 63.1h259.8c34.8 0 63.1-28.3 63.1-63.1V87.4c.1-34.7-28.2-63-63-63M189 74.4h259.8c7.2 0 13.1 5.9 13.1 13.1v170.1l-30.6-31c-4.7-4.8-11.1-7.4-17.8-7.4s-13.1 2.7-17.8 7.5l-23 23.5-90-90.3c-4.7-4.7-11.1-7.4-17.7-7.4s-13 2.6-17.7 7.3L176 231.2V87.4c0-7.2 5.8-13 13-13"}),(0,r.jsx)("path",{d:"M388 172.7c15.8 0 28.6-12.8 28.6-28.6s-12.8-28.6-28.6-28.6-28.6 12.8-28.6 28.6 12.8 28.6 28.6 28.6M326.3 428.1c-2 7-9.2 11-16.2 9.1L59.6 366.9c-3.4-.9-6.2-3.1-7.9-6.2s-2.1-6.6-1.2-10L76 260.1V112.5c-8.8 7.8-15.6 18.1-19 30.3L2.4 337.3c-4.5 16.2-2.5 33.3 5.8 48s21.8 25.3 38 29.8l250.5 70.2c5.7 1.6 11.4 2.3 17 2.3 27.6 0 53-18.3 60.8-46.1l11-39.2h-51.9z"})]})},14417:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M413 372H232V191c0-13.807-11.193-25-25-25s-25 11.193-25 25v181H1c-13.807 0-25 11.193-25 25s11.193 25 25 25h181v181c0 13.807 11.193 25 25 25s25-11.193 25-25V422h181c13.807 0 25-11.193 25-25s-11.193-25-25-25"})})}}]);